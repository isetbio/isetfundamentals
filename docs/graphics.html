<!DOCTYPE html>

<html>

<head>
    <meta charset="utf-8" />
    <title>ISET Home</title>

    <link rel="apple-touch-icon" sizes="57x57" href="//www-media.stanford.edu/assets/favicon/apple-touch-icon-57x57.png" />
    <link rel="apple-touch-icon" sizes="60x60" href="//www-media.stanford.edu/assets/favicon/apple-touch-icon-60x60.png" />
    <link rel="apple-touch-icon" sizes="72x72" href="//www-media.stanford.edu/assets/favicon/apple-touch-icon-72x72.png" />
    <link rel="apple-touch-icon" sizes="76x76" href="//www-media.stanford.edu/assets/favicon/apple-touch-icon-76x76.png" />
    <link rel="apple-touch-icon" sizes="114x114" href="//www-media.stanford.edu/assets/favicon/apple-touch-icon-114x114.png" />
    <link rel="apple-touch-icon" sizes="120x120" href="//www-media.stanford.edu/assets/favicon/apple-touch-icon-120x120.png" />
    <link rel="apple-touch-icon" sizes="144x144" href="//www-media.stanford.edu/assets/favicon/apple-touch-icon-144x144.png" />
    <link rel="apple-touch-icon" sizes="152x152" href="//www-media.stanford.edu/assets/favicon/apple-touch-icon-152x152.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="//www-media.stanford.edu/assets/favicon/apple-touch-icon-180x180.png" />

    <link rel="icon" type="image/png" href="//www-media.stanford.edu/assets/favicon/favicon-196x196.png" sizes="196x196" />
    <link rel="icon" type="image/png" href="//www-media.stanford.edu/assets/favicon/favicon-192x192.png" sizes="192x192" />
    <link rel="icon" type="image/png" href="//www-media.stanford.edu/assets/favicon/favicon-128.png" sizes="128x128" />
    <link rel="icon" type="image/png" href="//www-media.stanford.edu/assets/favicon/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/png" href="//www-media.stanford.edu/assets/favicon/favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="//www-media.stanford.edu/assets/favicon/favicon-16x16.png" sizes="16x16" />

    <link rel="mask-icon" href="//www-media.stanford.edu/assets/favicon/safari-pinned-tab.svg" color="#ffffff">
    <meta name="application-name" content="Stanford University"/>
    <meta name="msapplication-TileColor" content="#FFFFFF" />
    <meta name="msapplication-TileImage" content="//www-media.stanford.edu/assets/favicon/mstile-144x144.png" />
    <meta name="msapplication-square70x70logo" content="//www-media.stanford.edu/assets/favicon/mstile-70x70.png" />
    <meta name="msapplication-square150x150logo" content="//www-media.stanford.edu/assets/favicon/mstile-150x150.png" />
    <meta name="msapplication-square310x310logo" content="//www-media.stanford.edu/assets/favicon/mstile-310x310.png" />

    <meta content="summary_large_image" name="twitter:card" />
    <meta content="width=device-width, initial-scale=1" name="viewport" />
    <link href="./styles.css"
        rel="stylesheet" type="text/css" />
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous" />
    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
    <script type="text/javascript">WebFont.load({ google: { families: ["Sen:regular,700,800"] } });</script>
    <script
        type="text/javascript">!function (o, c) { var n = c.documentElement, t = " w-mod-"; n.className += t + "js", ("ontouchstart" in o || o.DocumentTouch && c instanceof DocumentTouch) && (n.className += t + "touch") }(window, document);</script>
    <script
        type="text/javascript">window.__WEBFLOW_CURRENCY_SETTINGS = { "currencyCode": "USD", "symbol": "$", "decimal": ".", "fractionDigits": 2, "group": ",", "template": "{{wf {\"path\":\"symbol\",\"type\":\"PlainText\"} }} {{wf {\"path\":\"amount\",\"type\":\"CommercePrice\"} }} {{wf {\"path\":\"currencyCode\",\"type\":\"PlainText\"} }}", "hideDecimalForWholeNumbers": false };</script>
</head>

<body>


    <div class="support-section">
      <div class="test-container">

        <!-- Testing Area Start-->
        <h1>Interactive SVG Example</h1>
        <p id="text1">Description</p>
        <svg id="mySvg" width="500" height="500" viewBox="0 0 100 100">
          <!-- Bezier curve path -->
          <path id="bezierPath" d="" stroke="blue" fill="none" stroke-width="2"/>
          <!-- Control points created by javascript-->
        </svg>
        <script>
          document.addEventListener('DOMContentLoaded', function() {
            var n = 4;
            var svg = document.getElementById('mySvg');
            var bezierPath = document.getElementById('bezierPath');
            var controlPoints = [];

            // Get startpoint
            var startPoint = document.createElementNS("http://www.w3.org/2000/svg", "circle");
            startPoint.setAttribute("id", "startPoint");
            startPoint.setAttribute("class", "control-point");
            startPoint.setAttribute("cx", "10");
            startPoint.setAttribute("cy", "80");
            startPoint.setAttribute("r", "2");
            startPoint.setAttribute("fill", "red");
            svg.appendChild(startPoint);
            controlPoints.push(startPoint);

            for (let i = 1; i <= n; i++) {
                var newControlPoint = document.createElementNS("http://www.w3.org/2000/svg", "circle");
                newControlPoint.setAttribute("id", `controlPoint${i}`);
                newControlPoint.setAttribute("class", "control-point");
                newControlPoint.setAttribute("cx", `${(i / (n + 1)) * 80 + 10}`);
                newControlPoint.setAttribute("cy", "40");
                newControlPoint.setAttribute("r", "1.5");
                newControlPoint.setAttribute("fill", "green");
                svg.appendChild(newControlPoint);
                controlPoints.push(newControlPoint);
            }

            var endPoint = document.createElementNS("http://www.w3.org/2000/svg", "circle");
            endPoint.setAttribute("id", `endPoint`);
            endPoint.setAttribute("class", "control-point");
            endPoint.setAttribute("cx", "90");
            endPoint.setAttribute("cy", "80");
            endPoint.setAttribute("r", "1.5");
            endPoint.setAttribute("fill", "red");
            svg.appendChild(endPoint)
            controlPoints.push(endPoint);


            var selectedPoint = null;
            var offset = { x: 0, y: 0 };

            function updateBezierPath() {
                var d = `M${controlPoints[0].getAttribute('cx')},${controlPoints[0].getAttribute('cy')} C`;
                for (let i = 1; i < controlPoints.length - 1; i++) {
                    d += ` ${controlPoints[i].getAttribute('cx')},${controlPoints[i].getAttribute('cy')}`;
                }
                d += ` ${controlPoints[controlPoints.length - 1].getAttribute('cx')},${controlPoints[controlPoints.length - 1].getAttribute('cy')}`;
                bezierPath.setAttribute('d', d);
            }

            for (var point in controlPoints) {
                controlPoints[point].addEventListener('mousedown', function(event) {
                    selectedPoint = event.target;
                    var rect = svg.getBoundingClientRect();
                    offset.x = event.clientX - rect.left - parseFloat(selectedPoint.getAttribute('cx'));
                    offset.y = event.clientY - rect.top - parseFloat(selectedPoint.getAttribute('cy'));
                    event.preventDefault(); // Prevent text selection or other unwanted actions
                });
            }

            svg.addEventListener('mousemove', function(event) {
                if (selectedPoint) {
                    var rect = svg.getBoundingClientRect();
                    var cx = event.offsetX - rect.left - offset.x;
                    var cy = event.offsetY - rect.top - offset.y;
                    selectedPoint.setAttribute('cx', cx);
                    selectedPoint.setAttribute('cy', cy);
                    updateBezierPath();
                }
            });

            svg.addEventListener('mouseup', function() {
                selectedPoint = null;
            });

            svg.addEventListener('mouseleave', function() {
                selectedPoint = null;
            });

            // Initial update of the Bezier path
            updateBezierPath();
          });
      </script>


        <!-- Testing Area End -->


      </div>
    </div>
</body>

</html>